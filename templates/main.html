<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DR Prediction</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
</head>

<body>

<div>
<h1>Diabetic Retinopathy Visualization</h1>
</div>
<br><br>

<form id="upload-file" method="post" enctype="multipart/form-data">
    <fieldset>
        <label for="file">Select a file</label>
        <input id='select' name="file" type="file" onchange="readURL(this);">
    </fieldset>
    <fieldset>
        <input id="upload-file-btn" type="submit" value="Upload">
    </fieldset>
</form>

  <br>  <br>


 <div class="row">
      <div class="col-md-1"></div>

    <div class="col-md-5">
        <h4>Original Image:</h4>
        <br> <br>
      <img src = "data:image/png;base64,{{result['original']}}" alt="Image Not Found" height="375" width="375"><img/>
    </div>

    <div class="col-md-5">
        <h4>Processed Image:</h4>
      <img src = "data:image/png;base64,{{result['processed']}}" alt="Image Not Found" ><img/>
    </div>

     <div class="col-md-1"> </div>

</div>

<br>

<h2>DR Level Probabilities</h2>
      <div class="table-responsive">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th>DR Level</th>
              <th>Probability</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>DR 0</td>
              <td>{{prob_mean[0]}}</td>
            </tr>
          <tr>
              <td>DR 1</td>
              <td>{{prob_mean[1]}}</td>
            </tr>
          <tr>
              <td>DR 2</td>
              <td>{{prob_mean[2]}}</td>
            </tr>
          <tr>
              <td>DR 3</td>
              <td>{{prob_mean[3]}}</td>
            </tr>
          <tr>
              <td>DR 4</td>
              <td>{{prob_mean[4]}}</td>
            </tr>
          </tbody>
        </table>
    </div>

<br>

<h2>DR Level Uncertainty Estimation</h2>
 <div class="table-responsive">
        <table class="table table-striped table-sm">
            <thead>
        <tr>
                <th>DR Level</th>
                <th>Standard Deviation</th>
        </tr>
        </thead>
             <tbody>
    {% for k, v in std_dict.items() %}
                <tr>
                        <td>{{ k }}</td>
                        <td>{{ v[0] }}</td>
                </tr>
        {% endfor %}
            </tbody>

</table>
 </div>

<br>
<h2>Predicted DR Level</h2>
<h2> {{dr_prediction}} </h2>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
</body>

</html>